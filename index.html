<html>
<head></head>
<script language="javascript">


var filas, dato, i, j, col, tabla, matriz;
var aux;
let inicio=0;
let ini;
let llega;



function crear()
{
  vertices = document.getElementById("cant_vertices").value;
  matriz=new Array(vertices);
  filas=vertices;
  col=filas;
  for(i=0;i<filas;i++)
  {
    matriz[i]= new Array(filas);
    for(j=0;j<filas;j++)
    {
      aux=prompt("Es adyacente el vertice["+i+"] con "+"["+j+"]   (1:sí  0:no  /por defecto=0):");
      if (aux<=1)
      {
        matriz[i][j]=aux;
      }
      else{
        alert("ingrese un 1 o 0");
        matriz[i][j]=0;
      }
    } 
  }
}



function prim()
{
  vertices = document.getElementById("cant_vertices").value;
  filas=vertices;
  col=filas;
  var matrizprim=new Array();
  matrizprim=matriz;
  var aux2;
  var p=0;
  /* la matriz del grafo anterior la ordenamos para no obtener una autoadyacencia haciendo 0 los datos 00, 11, 22*/
  for(i=0;i<filas;i++)
  {
    for(j=0;j<filas;j++){
      if(i==j){
        matriz[i][j]=0;
      }
    }
  }
  /* recorre la matriz creada y donde encuentre adyacencia (que haya un 1 en la matriz de crear()) solicita el peso de la arista */
  for(i=0;i<filas;i++)
  {
    for(j=0;j<filas;j++){
      if(matriz[i][j]=='1'){
        aux2=prompt("Ingrese el peso de arista entre los vertices ["+i+"],["+j+"] : ")
        matrizprim[i][j]=aux2;
        matrizprim[j][i]=aux2;    /* el peso se repitira para no generar una sobrecarga de pedidos ej: [0][1] va a ser la mismo que [1][0] */
      }
      else{
        matrizprim[i][j]=0;        /* si encuentra un numero distinto de 1, que en este caso es cero el valor sera 0 */
      }
    }
  }
  /* muestra la matriz con el peso de la arista entre los vertices */
  document.getElementById("matriz").innerHTML += "Matriz con pesos de las aristas <br> ";
  for(i=0;i<filas;i++){
    for(j=0;j<filas;j++){
      document.getElementById("matriz").innerHTML += matriz[i][j]+" ";
    }
    document.getElementById("matriz").innerHTML +="<br>";  
  }
  /* obtener la arista con menor valor */
  var menor=100;
  var rec=0;
  menores=new Array();
  menores2=new Array();
  ordenar=new Array();
  conex=new Array();

  while(rec<3){ 
    for(i=0;i<filas;i++){
      for(j=0;j<filas;j++){
        if(matrizprim[i][j]!=0){
          menores2.push(matrizprim[i][j]);
          rec++;
        }
      }
    }
  
  }
  document.getElementById("matriz").innerHTML += "Array con las aristas <br> ";
  ordenar = menores2.sort();
  /* muestra los datos de la matriz en orden de menor a menor*/
  document.getElementById("matriz").innerHTML += " ["+ordenar+"] <br>";

  for(var n=0;n<(menores2.length);n++){
    var posicion=ordenar[n];
    for(i=0;i<filas;i++){
      for(j=0;j<filas;j++){
        if(matrizprim[i][j]==posicion){
          var menorx = i;  
          var menory = j;
          menores.push(menorx);  /* en esta parte se añaden las posiciones dependiendo donde esta el dato */
          menores.push(menory);
        }
      }
    }
  }
  document.getElementById("matriz").innerHTML += " ["+menores+"] <br>";

  document.getElementById("matriz").innerHTML += " Generacion de arbol";
  while(p<(menores.length())){
    if((menores[p]==menores[p+2]) || (menores[p]==menores[p+3])){
      if(menores[p+1]==menores[p+2]){
        p+=2;
      }else{
        conex.push(menores[p]);
        console.log(conex)
        conex.push(menores[p+1]);
        console.log(conex)
        p+=2;
      }
    }
    else{
      p+=2;
    }
  }
  document.getElementById("matriz").innerHTML += " ["+conex+"] <br>";
}

function imprimirMatriz()
{
  
  for(i=0;i<filas;i++){
    for(j=0;j<filas;j++){
      document.getElementById("matriz").innerHTML += matriz[i][j]+" ";
    }
    document.getElementById("matriz").innerHTML +="<br>";  
  }
}         


/*
function conexo()
{
    let inicio=0;
    const final=vertices;
    let aux=0;
    while (inicio <=final-1 )
    {
      for(i=0;i<final;i++)
      {
        for(j=0;i<final;i++)
        {
          if(i!=j)
          {
            if(matriz[i][j]!=1)
            {
              aux=1;
            }
          }
        }
      }
      inicio+=1;
    }
    if(aux==0)
      console.log("es conexo");
    else
      console.log("no es conexo");

}


function caminos(ini,lleg)
{
  console.log("empiezo mi ruta en "+ini);
    if ( matriz[ini][lleg] == 1 )
    {
        console.log("finalmente he llegado a " + lleg);
        return 1;
    }
    else
    {
        if ( matriz[ini+1][lleg] == 1 )
          {
            console.log("pasé por el vertice "+ (ini+1));
            return (caminos(ini+1,lleg) + 1);
          }
        else{
            return caminos(inicio, lleg-1);
        }
    }
}


function muestraCaminos()

{
  var partede=0;
  var llegaA=0;
  var aux_p=0;
  var aux_ll=0;

  partede= document.getElementById('inicioCaminos').value;
  llegaA = document.getElementById('llegadaCaminos').value;

  for(i=0;i<partede;i++)
  {
    aux_p = aux_p +1;

  }
  for(j=0;j<llegaA;j++)
  {
    aux_ll = aux_ll +1;

  }

  let cami= caminos(aux_p,aux_ll);
  console.log("cantidad de nodos por lo que pasa: " + cami);

}

/* function crear()
{
  vertices = document.getElementById("cant_vertices").value;
  matriz=new Array(vertices);
  filas=vertices;
  col=filas;
  var peso;
  for(i=0;i<filas;i++)
  {
    matriz[i]= new Array(filas);
    for(j=0;j<filas;j++)
    {
      aux=prompt("Es adyacente el vertice["+i+"] con "+"["+j+"]   (1:sí  0:no  /por defecto=0):");
      var aux2=parseInt(aux,10);
      if (aux2=1)
      {
        peso=prompt("Ingrese peso de la arista");
        matriz[i][j]=aux;
      }
     else{
         if(aux2=0){
            matriz[i][j]=0;
         }else{
            alert("Ingrese un 1 o 0!!");
         }  
     }
    }
  }
} */


</script>
  <body>

    
Vertices: <input type="number" id="cant_vertices" />
          <input type="button" value="Crear GRAFO" onclick="crear()"/>
          <br>
          MATRIZ DE ADYANCENCIA DEL GRAFO <br>
          <div id="matriz"></div>
          <input type="button" value="imprimir Matriz" onclick="imprimirMatriz()"/> 
          <br>
          <input type="button" value="Es conexo?" onclick="conexo()"/>
          </br>
          <input type="button" value="Algoritmo de prim" onclick="prim()"/>
          <br>


          <br/>
          <form id="caminos">
            <input type="number" id="inicioCaminos" />  Inicio : <br />
            <input type="number" id="llegadaCaminos" />Llegada: <br/>
      <input type="button" id="encamino" value="Encontrar camino" onclick="muestraCaminos()"/>
      </form>

          
          <div id="conexo"></div>
          
  </body>

</html>